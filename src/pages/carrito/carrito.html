<ion-header>

  <ion-navbar>
    <ion-buttons>
      <button ion-button (click)="viewCtrl.dismiss()"> Cerrar</button>
    </ion-buttons>
    <ion-title>Carrito de compras</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <div *ngIf="!cart_articles" class="spinner-container">
    <ion-spinner name="circles"></ion-spinner>
  </div>

  <div text-center class="carrito_vacio" *ngIf="cart_articles.length < 1">

    <ion-icon name="ios-cart-outline" class="icon-5x"></ion-icon>
    <br> Su carrito esta vacio
  </div>


  <div *ngIf="cart_articles.length != 0">

    <ion-grid>
      <ion-row *ngFor="let article of cart_articles; let i = index">
        <ion-col>
          <img src="http://178.128.183.171{{article.image_path}}" alt="" srcset="">
        </ion-col>

        <ion-col>
          <p>{{article.name}}</p>
          <p>{{article.price | currency:'RD$'}}</p>
          <p>Cantidad: {{article.pivot.quantity}}</p>

          <button ion-button color="danger" outline small (click)="remove(article.id)">Eliminar</button>
        </ion-col>
      </ion-row>
    </ion-grid>

    <hr>
    <ion-grid>
      <ion-row>
        <ion-col>
          <h5>
            <strong>Subtotal:</strong>
          </h5>
          <p><b> {{totalPrice | currency:'RD$'}}</b></p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <h5>
            <strong>iva:</strong>
          </h5>
          <p><b> {{iva | currency:'RD$'}} (0.18)</b></p>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
          <h5>
            <strong>Total:</strong>
          </h5>
          <p><b> {{total | currency:'RD$' }}</b></p>
        </ion-col>
      </ion-row>

    </ion-grid>

    <button ion-button block (click)="makeOrder()">Realizar pedido</button>


  </div>

</ion-content>